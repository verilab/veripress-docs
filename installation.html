<!DOCTYPE html>
<html lang="zh-hans">
<head>
  
  
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta http-equiv="cleartype" content="on">
<link rel="alternate" type="application/atom+xml" title="VeriPress Docs" href="/docs/feed.xml"/>

<!-- Link common CSS and JavaScript files -->
<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
<link href="/docs/static/style.css" rel="stylesheet">
<link href="/docs/static/github-markdown-style.css" rel="stylesheet">
<link href="/docs/static/highlight.css" rel="stylesheet">
<link href="/docs/static/bootstrap-theme-cosmo.min.css" rel="stylesheet">
<link rel="shortcut icon" type="image/x-icon" href="/docs/static/favicon.ico">
  
  <title>安装 - VeriPress Docs</title>

</head>
<body>

<div class="section">
  <div class="container">
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
        <div class="row site-header-row">
          <div class="col-md-8 site-header">
            <h1><a href="/docs/">VeriPress Docs</a><br>
  <small>Documentation of VeriPress.</small>
</h1>
          </div>
          
        </div>
        <div class="row">
          <div class="col-md-12 nav-container">
            <ul class="nav nav-tabs">
  <li><a href="/docs/">简体中文</a></li>
  <li><a href="/docs/zh-hant/">繁體中文</a></li>
  <li><a href="/docs/en/">English</a></li>
  <li><a href="https://github.com/veripress/veripress">GitHub</a></li>
</ul>
          </div>
        </div>
      </div>
      <div class="col-md-2"></div>
    </div>
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
        

  <div class="panel panel-primary">
    <div class="panel-heading"></div>

    <div class="panel-body markdown-body">
      <article>
        <h1>安装</h1>
        
          <hr>
          <ul>
<li><a href="#系统全局安装">系统全局安装</a></li>
<li><a href="#在-virtualenv-中安装">在 virtualenv 中安装</a></li>
<li><a href="#在-Windows-上安装">在 Windows 上安装</a></li>
<li><a href="#使用-Docker">使用 Docker</a></li>
</ul>
          <hr>
        
        <p>要使用 VeriPress，你的电脑上需要安装有 Python 3.4 或更新版本和 pip 命令。如果你的系统中同时安装有 Python 2.x 版本，你可能需要将下面的 <code>python</code> 和 <code>pip</code> 命令换成 <code>python3</code> 和 <code>pip3</code>，此外对于非 root 或非管理员用户，还需要加 <code>sudo</code> 或使用管理员身份启动命令行。</p>
<h2><a id="系统全局安装" href="#系统全局安装" class="anchor"></a>系统全局安装</h2>
<p>使用 pip 命令即可从 PyPI 上安装最新的 release 版本：</p>
<div class="highlight"><pre><span></span>$ pip install veripress
</pre></div>


<p>安装之后一个 <code>veripress</code> 命令会被安装在系统中，通常在 <code>/usr/local/bin/veripress</code>。在命令行中运行 <code>veripress --help</code> 可以查看命令的使用帮助，当然，如果这是你第一次使用，你可能更需要首先阅读后面的 <a href="getting-started.html">开始使用</a> 文档。</p>
<h2><a id="在-virtualenv-中安装" href="#在-virtualenv-中安装" class="anchor"></a>在 virtualenv 中安装</h2>
<p>由于安装 VeriPress 的同时会安装一些依赖包，你可能不希望这些依赖装到系统的全局环境，这种情况下，使用 virtualenv 创建一个虚拟环境是一种不错的选择。</p>
<p>如果你还没有安装 virtualenv，请使用下面命令安装：</p>
<div class="highlight"><pre><span></span>$ pip install virtualenv
</pre></div>


<p>然后到一个适当的目录，运行下列命令：</p>
<div class="highlight"><pre><span></span>$ mkdir my-veripress
$ <span class="nb">cd</span> my-veripress
$ virtualenv venv
</pre></div>


<p>这将会在 <code>venv</code> 文件夹中创建一个虚拟环境，要使用这个虚拟环境，运行如下：</p>
<div class="highlight"><pre><span></span>$ <span class="nb">source</span> venv/bin/activate  <span class="c1"># Linux or macOS</span>
$ venv<span class="se">\S</span>cripts<span class="se">\a</span>ctivate  <span class="c1"># Windows</span>
</pre></div>


<p>然后安装 VeriPress：</p>
<div class="highlight"><pre><span></span>$ pip install veripress
</pre></div>


<p>要退出虚拟环境，运行：</p>
<div class="highlight"><pre><span></span>$ deactivate
</pre></div>


<p>在 virtualenv 中使用可以获得一个隔离的环境，但同时也需要多余的命令来进入和离开虚拟环境，因此你需要根据情况选择适合自己的安装方式。</p>
<h2><a id="在-Windows-上安装" href="#在-Windows-上安装" class="anchor"></a>在 Windows 上安装</h2>
<p>在 Windows 上安装 VeriPress 没有什么特殊要求，只要正确安装了 Python 和 pip，就可以正常使用 <code>pip install veripress</code> 来安装，同样你也可以使用 virtualenv。</p>
<p>但由于 Windows 的特殊性，如果你在安装和之后的使用过程中遇到了问题，请提交 issue 反馈。</p>
<p>此外，后面的文档中给出的示例命令将会统一使用 Unix 命令，一般在 Windows 上都有相对应的命令可以完成同样的操作（比如创建文件夹）。</p>
<h2><a id="使用-Docker" href="#使用-Docker" class="anchor"></a>使用 Docker</h2>
<p>VeriPress 官方提供了简便易用的 docker 镜像，如果你的系统中安装了 docker，并且希望在比较隔离的环境中使用 VeriPress，可以考虑通过 docker 来安装。直接拉取 DockerHub 的镜像：</p>
<div class="highlight"><pre><span></span>$ docker pull veripress/veripress
</pre></div>


<p>镜像的最新版本（latest）将和 GitHub 上最新的 tag 一致，同时也和 PyPI 上的最新版本一致。</p>
<p>由于众所周知的原因，如果你无法直接从 DockerHub 拉取镜像，也可以从 DaoCloud 的镜像仓库拉取：</p>
<div class="highlight"><pre><span></span>$ docker pull daocloud.io/richardchien/veripress
</pre></div>


<p>你也可以选择使用其它 DockerHub 镜像，但可能无法和这两者完全同步更新。</p>
<p>镜像使用方式如下：</p>
<div class="highlight"><pre><span></span>$ docker run -ti --rm -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/instance veripress/veripress --help
</pre></div>


<p>这将会把当前目录挂载到容器中的 <code>/instance</code> 目录，作为 VeriPress 的实例目录（在下一篇 <a href="getting-started.html">开始使用</a> 中你将会了解到什么是「实例目录」。镜像的 <code>ENTRYPOINT</code> 是 <code>veripress</code> 命令，因此直接在 <code>docker run</code> 命令的结尾加上 <code>veripress</code> 的子命令即可使用，在后面的文档中将不再对 docker 进行单独阐述，使用方式都是一致的。</p>
<p>建议把 <code>docker run -ti --rm -v $(pwd):/instance veripress/veripress</code> alias 成一个简短的命令，这样可以更方便的使用（基本和使用本地命令没差）。另外，在要运行 VeriPress 实例时，需要加 <code>-p</code> 来进行端口映射。记得使用单引号来避免定义 alias 时 <code>$(pwd)</code> 被求值。例如：</p>
<div class="highlight"><pre><span></span>$ <span class="nb">alias</span> <span class="nv">veripress</span><span class="o">=</span><span class="s1">&#39;docker run -ti --rm -v $(pwd):/instance -p 8080:8080 veripress/veripress&#39;</span>
$ mkdir ~/my-instance
$ <span class="nb">cd</span> ~/my-instance
$ veripress init
$ veripress theme install default
$ veripress preview --host <span class="m">0</span>.0.0.0 --port <span class="m">8080</span>
</pre></div>
      </article>
    </div>
    <div class="panel-footer">
      <span><i class="fa fa-fw fa-user"></i>Richard Chien</span>
      
        <span><i class="fa fa-fw fa-refresh"></i>2017.03.22</span>
      
    </div>
  </div>

  


      </div>
      <div class="col-md-2"></div>
    </div>
  </div>
</div>

<footer class="section">
  <div class="container">
    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
        <div class="row">
          <div class="col-md-12">
            <hr>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <span>Copyright &copy; 2017 VeriPress.</span>
            <br class="hidden-sm hidden-md hidden-lg">
            <span>Powered by <a href="https://github.com/veripress/veripress">VeriPress</a>.</span>
          </div>
        </div>
      </div>
      <div class="col-md-2"></div>
    </div>
  </div>
</footer>


  <script type="text/javascript">
    var elems = document.getElementsByTagName("a");
    for (var i = 0; i < elems.length; i++) {
        if (elems[i].href.indexOf(document.domain) < 0) {
            elems[i].target = "_blank";
        }
    }
    var navLinks = document.querySelectorAll(".nav-tabs li a");
    for (i = 0; i < navLinks.length; i++) {
        if (document.location.href === navLinks[i].href) {
            navLinks[i].parentElement.classList.add("active");
        }
    }
</script>


</body>
</html>